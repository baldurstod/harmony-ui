<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Test 2d manipulator</title>
	<link href="./assets/css/examples.css" rel="stylesheet">
	<style>
		body>div {
			flex: 1;
		}
	</style>
</head>

<body style="display:flex;flex-direction: column;">
	<div style="position:relative;">
		<harmony-2d-manipulator id="manipulator">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;transform:scale(0.5);">
		<span>div with transform</span>
		<harmony-2d-manipulator id="manipulator">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>non resizable</span>
		<harmony-2d-manipulator id="manipulator" resize="none">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>resize from center</span>
		<harmony-2d-manipulator id="manipulator" resize="all" resize-origin="center">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>handle colors 1</span>
		<harmony-2d-manipulator style="--handle-bg-color:purple;">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>handle colors 2</span>
		<harmony-2d-manipulator
			style="--harmony-2d-manipulator-rotate-bg-color:rgb(231, 43, 175);--harmony-2d-manipulator-side-bg-color:white;--harmony-2d-manipulator-corner-bg-color:blue">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>disable handles</span>
		<div>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({translation:event.target.state ? 'all':'none'})">
				<span slot="on">translation</span>
				<span slot="off">no translation</span>
			</harmony-toggle-button>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({rotation:event.target.state})">
				<span slot="on">rotation</span>
				<span slot="off">no rotation</span>
			</harmony-toggle-button>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({resize:event.target.state ? 'all':'none'})">
				<span slot="on">resize</span>
				<span slot="off">no resize</span>
			</harmony-toggle-button>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({resize:event.target.state ? 'all':'x'})">
				<span slot="on">resize x</span>
				<span slot="off">no resize x</span>
			</harmony-toggle-button>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({resize:event.target.state ? 'all':'y'})">
				<span slot="on">resize y</span>
				<span slot="off">no resize y</span>
			</harmony-toggle-button>
			<harmony-toggle-button state="1"
				onchange="document.getElementById('alterable').setMode({scale:event.target.state ? 'all':'none'})">
				<span slot="on">scale</span>
				<span slot="off">no scale</span>
			</harmony-toggle-button>
		</div>
		<harmony-2d-manipulator id="alterable"></harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>negative width</span>
		<harmony-2d-manipulator id="manipulator" width="-50" min-width="-Infinity" min-height="-Infinity">
		</harmony-2d-manipulator>
	</div>
	<div style="position:relative;">
		<span>negative height</span>
		<harmony-2d-manipulator id="manipulator" height="-50" min-width="-Infinity" min-height="-Infinity">
		</harmony-2d-manipulator>
	</div>
</body>
<script type="module">
	import { createElement, defineHarmony2dManipulator, defineHarmonyToggleButton } from '../dist/harmony-ui.browser.js';
	const manipulator = document.getElementById('manipulator');
	defineHarmony2dManipulator();
	defineHarmonyToggleButton();

	manipulator.addEventListener('change', (event) => {
		const detail = event.detail;
		//console.info(detail);
		//console.log(detail.left, detail.top, detail.width, detail.height);
		//console.info(manipulator.getTopLeft(), manipulator.getTopRight(), manipulator.getBottomLeft(), manipulator.getBottomRight())
	})
</script>

</html>
